{"ast":null,"code":"var _jsxFileName = \"/Users/samuelvirgo/Documents/development/ditto/covid_19/src/chart/image.js\";\nimport React from 'react';\nimport * as d3 from 'd3';\n\nclass ImageChart extends React.Component {\n  componentDidMount() {\n    this.renderPlot();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this.renderPlot();\n  }\n\n  renderPlot() {\n    // Get props.\n    const xScale = this.props.xScale;\n    const height = this.props.height;\n    const data = this.props.data; // Bind to dom.\n\n    const imageElements = d3Select(this.imageElement).selectAll(\"text\").data(data, d => d.date_implemented);\n    imageElements.join(enter => enter.append(\"text\").on('click', (d, i) => this.props.onClick(d)).attr('class', \"image\").attr('font-family', 'FontAwesome').text(function (d) {\n      return '\\uf071';\n    }).attr('font-size', '16px').attr('fill', 'red').attr(\"transform\", function (d) {\n      return \"translate(\" + xScale(d.date_implemented) + \",\" + (height - 50) + \")\";\n    }), update => update.attr(\"transform\", function (d) {\n      return \"translate(\" + xScale(d.date_implemented) + \",\" + (height - 50) + \")\";\n    }), exit => exit.remove());\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"g\", {\n      className: \"image\",\n      ref: el => {\n        this.imageElement = el;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 4\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/samuelvirgo/Documents/development/ditto/covid_19/src/chart/image.js"],"names":["React","d3","ImageChart","Component","componentDidMount","renderPlot","componentDidUpdate","prevProps","prevState","xScale","props","height","data","imageElements","d3Select","imageElement","selectAll","d","date_implemented","join","enter","append","on","i","onClick","attr","text","update","exit","remove","render","el"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;;AAEA,MAAMC,UAAN,SAAyBF,KAAK,CAACG,SAA/B,CAAyC;AACxCC,EAAAA,iBAAiB,GAAG;AACnB,SAAKC,UAAL;AACA;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACxC,SAAKH,UAAL;AACA;;AAEDA,EAAAA,UAAU,GAAG;AACZ;AACA,UAAMI,MAAM,GAAG,KAAKC,KAAL,CAAWD,MAA1B;AACA,UAAME,MAAM,GAAG,KAAKD,KAAL,CAAWC,MAA1B;AACA,UAAMC,IAAI,GAAG,KAAKF,KAAL,CAAWE,IAAxB,CAJY,CAMZ;;AACA,UAAMC,aAAa,GAAGC,QAAQ,CAAC,KAAKC,YAAN,CAAR,CACpBC,SADoB,CACV,MADU,EAEpBJ,IAFoB,CAEfA,IAFe,EAETK,CAAC,IAAIA,CAAC,CAACC,gBAFE,CAAtB;AAIAL,IAAAA,aAAa,CAACM,IAAd,CACCC,KAAK,IACJA,KAAK,CACHC,MADF,CACS,MADT,EAEEC,EAFF,CAEK,OAFL,EAEc,CAACL,CAAD,EAAIM,CAAJ,KAAU,KAAKb,KAAL,CAAWc,OAAX,CAAmBP,CAAnB,CAFxB,EAGEQ,IAHF,CAGO,OAHP,EAGgB,OAHhB,EAIEA,IAJF,CAIO,aAJP,EAIsB,aAJtB,EAKEC,IALF,CAKQ,UAAUT,CAAV,EAAa;AAAE,aAAO,QAAP;AAAkB,KALzC,EAMEQ,IANF,CAMO,WANP,EAMoB,MANpB,EAOEA,IAPF,CAOO,MAPP,EAOe,KAPf,EAQEA,IARF,CAQO,WARP,EAQoB,UAASR,CAAT,EAAY;AAC9B,aAAO,eAAeR,MAAM,CAACQ,CAAC,CAACC,gBAAH,CAArB,GAA4C,GAA5C,IAAmDP,MAAM,GAAG,EAA5D,IAAkE,GAAzE;AACA,KAVF,CAFF,EAaCgB,MAAM,IACLA,MAAM,CACJF,IADF,CACO,WADP,EACoB,UAASR,CAAT,EAAY;AAC9B,aAAO,eAAeR,MAAM,CAACQ,CAAC,CAACC,gBAAH,CAArB,GAA4C,GAA5C,IAAmDP,MAAM,GAAG,EAA5D,IAAkE,GAAzE;AACA,KAHF,CAdF,EAkBCiB,IAAI,IACHA,IAAI,CACFC,MADF,EAnBF;AAsBA;;AAEDC,EAAAA,MAAM,GAAG;AACR,wBACC;AACC,MAAA,SAAS,EAAC,OADX;AAEC,MAAA,GAAG,EAAGC,EAAD,IAAQ;AAAE,aAAKhB,YAAL,GAAoBgB,EAApB;AAAyB,OAFzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD;AAMA;;AAnDuC","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\n\nclass ImageChart extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.renderPlot();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tthis.renderPlot();\n\t}\n\n\trenderPlot() {\n\t\t// Get props.\n\t\tconst xScale = this.props.xScale;\n\t\tconst height = this.props.height;\n\t\tconst data = this.props.data;\n\n\t\t// Bind to dom.\n\t\tconst imageElements = d3Select(this.imageElement)\n\t\t\t.selectAll(\"text\")\n\t\t\t.data(data, d => d.date_implemented);\n\n\t\timageElements.join(\n\t\t\tenter =>\n\t\t\t\tenter\n\t\t\t\t\t.append(\"text\")\n\t\t\t\t\t.on('click', (d, i) => this.props.onClick(d))\n\t\t\t\t\t.attr('class', \"image\")\n\t\t\t\t\t.attr('font-family', 'FontAwesome')\n\t\t\t\t\t.text( function (d) { return '\\uf071'; })\n\t\t\t\t\t.attr('font-size', '16px')\n\t\t\t\t\t.attr('fill', 'red')\n\t\t\t\t\t.attr(\"transform\", function(d) {\n\t\t\t\t\t\treturn \"translate(\" + xScale(d.date_implemented) + \",\" + (height - 50) + \")\";\n\t\t\t\t\t}),\n\t\t\tupdate =>\n\t\t\t\tupdate\n\t\t\t\t\t.attr(\"transform\", function(d) {\n\t\t\t\t\t\treturn \"translate(\" + xScale(d.date_implemented) + \",\" + (height - 50) + \")\";\n\t\t\t\t\t}),\n\t\t\texit => \n\t\t\t\texit\n\t\t\t\t\t.remove()\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<g\n\t\t\t\tclassName='image'\n\t\t\t\tref={(el) => { this.imageElement = el; }}\n\t\t\t/>\n\t\t);\t\t\n\t}\n}"]},"metadata":{},"sourceType":"module"}